"use strict";(self.webpackChunkvexors_admin=self.webpackChunkvexors_admin||[]).push([[756],{1756:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(5043),i=a(6774),l=a(6673),c=a(7986),n=a(4446),d=a(7114),r=a(2997),o=a(2262),m=a(6727),h=a(579);const x=()=>{const[e,s]=(0,t.useState)([]),[a,x]=(0,t.useState)(""),[j,u]=(0,t.useState)(1),[p,v]=(0,t.useState)(1),[N,g]=(0,t.useState)(""),[b,f]=(0,t.useState)(""),[w,y]=(0,t.useState)(null),[k,_]=(0,t.useState)(!1),[A,C]=(0,t.useState)("Approved");(0,t.useEffect)((()=>{S()}),[a,j,N,b]);const S=async e=>{let t={search:a,page:j,per_page:10,start_date:N,end_date:b,activeStatus:null!==e&&void 0!==e?e:A};_(!0);try{const{data:e,error:a}=await(0,i.sU)(t);!a&&null!==e&&void 0!==e&&e.results&&(s(e.results.user),v(Math.ceil(e.results.totalPages)))}catch(l){console.error("Error fetching users:",l)}finally{_(!1)}},D=e=>{e>0&&e<=p&&u(e)},U=async(e,s)=>{try{const{data:a,error:t}=await(0,i.jx)(e,{activeStatus:s});!t&&null!==a&&void 0!==a&&a.results&&S()}catch(a){console.error("Error updating status:",a)}},E=()=>(0,h.jsx)("nav",{"aria-label":"Page navigation",className:"mt-3 mb-3",children:(0,h.jsxs)("ul",{className:"pagination justify-content-center gap-3",children:[(0,h.jsx)("li",{className:"page-item ".concat(1===j?"disabled":""),children:(0,h.jsx)("button",{className:"page-link rounded-3",onClick:()=>D(j-1),children:"\xab"})}),[...Array(p).keys()].map((e=>(0,h.jsx)("li",{className:"page-item ".concat(j===e+1?"active":""),children:(0,h.jsx)("button",{className:"page-link rounded-3",onClick:()=>D(e+1),children:e+1})},e+1))),(0,h.jsx)("li",{className:"page-item ".concat(j===p?"disabled":""),children:(0,h.jsx)("button",{className:"page-link rounded-3",onClick:()=>D(j+1),children:"\xbb"})})]})});return(0,h.jsxs)("div",{children:[(0,h.jsx)(o.A,{}),(0,h.jsxs)("div",{className:"main-wrapper",children:[(0,h.jsx)(r.A,{}),(0,h.jsx)("main",{className:"content-part-wrapper ",children:(0,h.jsxs)("div",{className:"animate__animated animate__fadeInUp animate__faster",children:[(0,h.jsxs)("ol",{className:"breadcrumb",children:[(0,h.jsx)("li",{className:"breadcrumb-item",children:(0,h.jsx)("a",{href:"index.html",children:(0,h.jsx)("i",{className:"fa fa-home"})})}),(0,h.jsx)("li",{className:"breadcrumb-item active",children:"User Management"})]}),(0,h.jsxs)("div",{className:"mt-4 d-flex justify-content-between",children:[(0,h.jsx)("div",{className:"",children:(0,h.jsx)("h1",{className:"main-heading m-0",children:"User's "})}),(0,h.jsxs)("div",{className:"search-wrapper position-relative",children:[(0,h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search....",value:a,onChange:e=>{x(e.target.value),u(1)}}),(0,h.jsx)("i",{className:"fa fa-search search-icon"})]})]}),(0,h.jsx)("div",{className:"mt-2 d-flex justify-content-between",children:(0,h.jsxs)("div",{className:"tabs",children:[(0,h.jsx)("a",{onClick:()=>{C("Approved"),S("Approved")},className:"Approved"===A?"tab-item active":"tab-item ",children:"Approved Users"}),(0,h.jsx)("a",{onClick:()=>{C("Pending"),S("Pending")},className:"Pending"===A?"tab-item active":"tab-item ",children:"Pending Requests"}),(0,h.jsx)("a",{onClick:()=>{C("Declined"),S("Declined")},className:"Declined"===A?"tab-item active":"tab-item ",children:"Rejected Users"})]})}),(0,h.jsxs)("div",{className:"comman-table mt-4 pb-1",children:[(0,h.jsx)("div",{className:"table-responsive",children:k?(0,h.jsx)("div",{className:"w-100",style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)("div",{className:"loader"})}):(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Sr.No."}),(0,h.jsx)("th",{children:"Image"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Business Name"}),(0,h.jsx)("th",{children:"Created At"}),(0,h.jsx)("th",{children:"Status"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,s)=>{var a;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:10*(j-1)+s+1}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{className:"table-user d-flex justify-content-center align-items-center",children:(null===e||void 0===e||null===(a=e.profileImage)||void 0===a?void 0:a.length)>0?(0,h.jsx)("img",{src:e.profileImage,alt:e.name}):(0,h.jsx)(l.A,{color:"#fff"})})}),(0,h.jsx)("td",{children:e.fullName}),(0,h.jsx)("td",{children:e.businessName}),(0,h.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{className:"badge ".concat(e.status?"bg-success":"bg-light-danger"),children:e.status?"Active":"Inactive"})}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"dropdown table-btn-dropdown",children:[(0,h.jsx)(c.A,{style:{cursor:"pointer"}}),(0,h.jsxs)("ul",{style:{zIndex:""},className:"table-dropdown-content dropdown-menu p-0",children:["Pending"===A&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsxs)("button",{className:"dropdown-item",onClick:()=>U(null===e||void 0===e?void 0:e._id,"Approved"),children:[(0,h.jsx)(n.A,{size:16,className:"pe-1"})," ","Approve"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("button",{className:"dropdown-item",onClick:()=>U(null===e||void 0===e?void 0:e._id,"Declined"),children:[(0,h.jsx)(d.A,{size:16,className:"pe-1"})," ","Decline"]})})]}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{className:"dropdown-item",onClick:()=>(async(e,s)=>{try{const{data:a,error:t}=await(0,i.sN)(e,{activeStatus:s});!t&&null!==a&&void 0!==a&&a.results&&S()}catch(a){console.error("Error updating status:",a)}})(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.status),children:null!==e&&void 0!==e&&e.status?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:"fa-solid fa-toggle-off pe-2 text-muted",size:40}),"Disable"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:"fa-solid fa-toggle-on pe-2 text-success"}),"Enable"]})})}),(0,h.jsx)("li",{children:(0,h.jsxs)(m.N_,{className:"dropdown-item",to:"/Users/View-User/".concat(null===e||void 0===e?void 0:e._id),children:[(0,h.jsx)("i",{className:"fa-solid fa-desktop pe-2"})," ","View"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("button",{className:"dropdown-item text-danger",onClick:()=>(async e=>{try{await(0,i.JM)(e),S()}catch(s){console.error("Error deleting user:",s)}})(e._id),children:[(0,h.jsx)("i",{className:"fa-solid fa-trash pe-2 text-danger"})," ","Delete"]})})]})]})})]},e.id)}))})]})}),0!==(null===e||void 0===e?void 0:e.length)&&(0,h.jsx)(E,{})]}),w&&(0,h.jsx)("div",{className:"custom-modal shadow-right",children:(0,h.jsxs)("div",{className:"custom-modal-content",children:[(0,h.jsx)("div",{className:"custom-modal-header",children:(0,h.jsx)("button",{className:"close-btn",onClick:()=>y(null),children:(0,h.jsx)("i",{className:"fa-solid fa-close"})})}),(0,h.jsxs)("div",{className:"custom-modal-body",children:[(0,h.jsx)("div",{className:"modal-img-wrapper",children:(0,h.jsx)("img",{src:w.image||"assets/img/default-user.webp",alt:w.name})}),(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsx)("p",{className:"comman-sm-text text-light m-0",children:"Status"}),(0,h.jsx)("div",{className:"form-check form-switch",children:(0,h.jsx)("input",{className:"form-check-input",type:"checkbox",checked:w.is_active,onChange:()=>(async(e,s)=>{try{await(0,i.jx)(e,{is_active:!s}),S()}catch(a){console.error("Error updating status:",a)}})(w.id,w.is_active)})})]})]})]})})]})})]})]})}}}]);
//# sourceMappingURL=756.9b0df67f.chunk.js.map