"use strict";(self.webpackChunkvexors_admin=self.webpackChunkvexors_admin||[]).push([[113],{6113:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(2555),o=a(5043),t=a(4858),i=a(6727),c=a(51),l=a(7488),n=a(579);const d=function(){var e;const{register:s,handleSubmit:a,formState:{errors:d},watch:m}=(0,t.mN)(),[u,h]=(0,o.useState)(!1),p=(0,i.Zp)();null===(e=localStorage)||void 0===e||e.getItem("token-vexors-admin");const x=m("email");return m("password"),(0,n.jsx)("div",{className:"centerd-body bg-light",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-xl-8 col-lg-8 col-md-8 col-11 mx-auto",children:(0,n.jsx)("div",{className:"signup",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-6 px-0",children:(0,n.jsxs)("div",{className:"right-side bg-main",children:[(0,n.jsx)("h1",{className:"text-white signup-heading",children:"Welcome"}),(0,n.jsx)("div",{className:"login-img",children:(0,n.jsx)("img",{src:"res/assets/img/login-img.png",alt:""})})]})}),(0,n.jsx)("div",{className:"col-md-6 px-0 bg-white",children:(0,n.jsxs)("div",{className:"left-side",children:[(0,n.jsxs)("h1",{className:"signup-heading fw-bold text-main",children:["Vexors",(0,n.jsx)("span",{className:"fw-light text-dark",children:"Admin"})]}),(0,n.jsxs)("div",{className:"form-design",children:[(0,n.jsx)("div",{class:"bg-main-light box-info",children:(0,n.jsxs)("div",{class:"d-flex gap-2 align-items-center",children:[(0,n.jsx)("span",{class:"circle-info",children:(0,n.jsx)("i",{class:"fa fa-info-circle text-main"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{class:"m-0 comman-sm-text",children:"Please enter your registered Email Address to receive the OTP"}),(0,n.jsxs)("p",{class:"m-0 comman-sm-text",children:["Email: ",(0,n.jsx)("b",{children:"example@vexors.co"})]})]})]})}),(0,n.jsxs)("form",{onSubmit:a((async e=>{h(!0),setTimeout((()=>{h(!1)}),[4e3]);try{let a={email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password};const{data:r,error:o}=await(0,c.kJ)(a);var s;if(!o)if(r.error)h(!1);else h(!1),l.oR.success(null===r||void 0===r||null===(s=r.results)||void 0===s?void 0:s.otp),p("/VerifyOtp",{state:{email:null===e||void 0===e?void 0:e.email}})}catch(a){h(!1)}})),children:[(0,n.jsxs)("div",{className:"form-group position-relative",children:[(0,n.jsx)("label",{htmlFor:"email",className:"form-label",children:"* Email"}),(0,n.jsx)("input",(0,r.A)({type:"text",className:"form-control ".concat(d.email?"error-boundary animate__animated animate__headShake":""),placeholder:"example@vexors.co"},s("email",{required:"Email is required!",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}}))),x&&!d.email&&(0,n.jsx)("i",{className:"fa fa-check-circle text-success success-icon"}),d.email&&(0,n.jsxs)("p",{className:"text-danger animate__animated animate__headShake small-text",children:["*",d.email.message]})]}),(0,n.jsx)("div",{className:"form-group mt-4",children:(0,n.jsx)("button",{type:"submit",className:"comman-btn",disabled:u,children:u?(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa fa-spinner fa-spin"})," ","Loading..."]}):"Send Otp"})})]})]})]})})]})})})})})})}},51:(e,s,a)=>{a.d(s,{ij:()=>c,kJ:()=>l,kv:()=>d,tl:()=>i,vJ:()=>n});var r=a(1528),o=a(7488);function t(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An unexpected error occurred";if(e.response){const{message:a}=e.response.data;o.oR.error(a||s,{autoClose:1500}),console.error("API Error:",a||e.response)}else e.request?(o.oR.error("No response from server. Please try again later.",{autoClose:1500}),console.error("No response received:",e.request)):(o.oR.error(s,{autoClose:1500}),console.error("Error:",e.message))}async function i(e){try{const{data:t}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminLogin"),e);var s,a,i;if(t.error)o.oR.error(t.message);else localStorage.removeItem("token-vexors-admin"),localStorage.setItem("token-vexors-admin",null===t||void 0===t||null===(s=t.results)||void 0===s?void 0:s.token),localStorage.setItem("vexors-admin",null===t||void 0===t||null===(a=t.results)||void 0===a||null===(i=a.admin)||void 0===i?void 0:i._id),o.oR.success(t.message,{autoClose:1500});return{data:t}}catch(c){return t(c,"Failed to log in"),{error:c}}}async function c(e){try{const{data:s}=await r.A.post("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","api/signup"),e);return s.error?o.oR.error(s.message):o.oR.success(s.message,{autoClose:1500}),{data:s}}catch(s){return t(s,"Failed to log in"),{error:s}}}async function l(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminForgetPassword"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message,{autoClose:1500}),{data:s}}catch(s){return t(s,"Failed to process forgot password request"),{error:s}}}async function n(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminVerifyOtp"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message),{data:s}}catch(s){return t(s,"Failed to verify OTP"),{error:s}}}async function d(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/resetPasswordAdmin"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message),{data:s}}catch(s){return t(s,"Failed to update password"),{error:s}}}}}]);
//# sourceMappingURL=113.e072e175.chunk.js.map