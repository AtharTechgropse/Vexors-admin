"use strict";(self.webpackChunkvexors_admin=self.webpackChunkvexors_admin||[]).push([[989],{8989:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var r=a(2555),o=a(5043),t=a(4858),c=a(6727),n=a(51),i=a(579);const l=function(){const{register:e,handleSubmit:s,formState:{errors:a},watch:l}=(0,t.mN)({mode:"onChange"}),[d,m]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[p,g]=(0,o.useState)(!1),x=(0,c.Zp)();let w=(0,c.zy)();const v=l("password"),f=l("confirmPassword");return(0,o.useEffect)((()=>{v&&v.length<6?m("Password must be at least 6 characters"):m(""),h(f&&f!==v?"Passwords do not match":"")}),[v,f]),(0,i.jsx)("div",{className:"centerd-body bg-light",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-xl-8 col-lg-8 col-md-8 col-11 mx-auto",children:(0,i.jsx)("div",{className:"signup",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-md-6 px-0",children:(0,i.jsxs)("div",{className:"right-side bg-main",children:[(0,i.jsx)("h1",{className:"text-white signup-heading",children:"Welcome"}),(0,i.jsx)("div",{className:"login-img",children:(0,i.jsx)("img",{src:"res/assets/img/login-img.png",alt:""})})]})}),(0,i.jsx)("div",{className:"col-md-6 px-0 bg-white",children:(0,i.jsxs)("div",{className:"left-side",children:[(0,i.jsxs)("h1",{className:"signup-heading fw-bold text-main",children:["Vexors",(0,i.jsx)("span",{className:"fw-light text-dark",children:"Admin"})]}),(0,i.jsx)("div",{className:"form-design",children:(0,i.jsxs)("form",{onSubmit:s((async e=>{g(!0),setTimeout((()=>{g(!1)}),4e3);try{var s;let a={password:null===e||void 0===e?void 0:e.password,email:null===w||void 0===w||null===(s=w.state)||void 0===s?void 0:s.email};const{data:r,error:o}=await(0,n.kv)(a);o||(r.error?g(!1):(g(!1),x("/login")))}catch(a){g(!1)}})),children:[(0,i.jsxs)("div",{className:"form-group position-relative",children:[(0,i.jsx)("label",{htmlFor:"password",className:"form-label",children:"* New Password"}),(0,i.jsx)("input",(0,r.A)({type:"password",className:"form-control ".concat(d||a.password?"error-boundary animate__animated animate__headShake":""),placeholder:"Enter new password"},e("password",{required:"Password is required!",minLength:{value:6,message:"Password must be at least 6 characters"}}))),v&&!d&&(0,i.jsx)("i",{className:"fa fa-check-circle text-success success-icon"}),d&&(0,i.jsxs)("p",{className:"text-danger animate__animated animate__headShake small-text",children:["*",d]})]}),(0,i.jsxs)("div",{className:"form-group position-relative",children:[(0,i.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"* Confirm Password"}),(0,i.jsx)("input",(0,r.A)({type:"password",className:"form-control ".concat(u||a.confirmPassword?"error-boundary animate__animated animate__headShake":""),placeholder:"Confirm your password"},e("confirmPassword",{required:"Confirm Password is required!",validate:e=>e===v||"Passwords do not match"}))),f&&!u&&(0,i.jsx)("i",{className:"fa fa-check-circle text-success success-icon"}),u&&(0,i.jsxs)("p",{className:"text-danger animate__animated animate__headShake small-text",children:["*",u]})]}),(0,i.jsx)("div",{className:"form-group mt-4",children:(0,i.jsx)("button",{type:"submit",className:"comman-btn",disabled:p,children:p?(0,i.jsxs)("span",{children:[(0,i.jsx)("i",{className:"fa fa-spinner fa-spin"})," ","Resetting..."]}):"Reset Password"})})]})})]})})]})})})})})})}},51:(e,s,a)=>{a.d(s,{ij:()=>n,kJ:()=>i,kv:()=>d,tl:()=>c,vJ:()=>l});var r=a(1528),o=a(7488);function t(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An unexpected error occurred";if(e.response){const{message:a}=e.response.data;o.oR.error(a||s,{autoClose:1500}),console.error("API Error:",a||e.response)}else e.request?(o.oR.error("No response from server. Please try again later.",{autoClose:1500}),console.error("No response received:",e.request)):(o.oR.error(s,{autoClose:1500}),console.error("Error:",e.message))}async function c(e){try{const{data:t}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminLogin"),e);var s,a,c;if(t.error)o.oR.error(t.message);else localStorage.removeItem("token-vexors-admin"),localStorage.setItem("token-vexors-admin",null===t||void 0===t||null===(s=t.results)||void 0===s?void 0:s.token),localStorage.setItem("vexors-admin",null===t||void 0===t||null===(a=t.results)||void 0===a||null===(c=a.admin)||void 0===c?void 0:c._id),o.oR.success(t.message,{autoClose:1500});return{data:t}}catch(n){return t(n,"Failed to log in"),{error:n}}}async function n(e){try{const{data:s}=await r.A.post("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","api/signup"),e);return s.error?o.oR.error(s.message):o.oR.success(s.message,{autoClose:1500}),{data:s}}catch(s){return t(s,"Failed to log in"),{error:s}}}async function i(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminForgetPassword"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message,{autoClose:1500}),{data:s}}catch(s){return t(s,"Failed to process forgot password request"),{error:s}}}async function l(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/adminVerifyOtp"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message),{data:s}}catch(s){return t(s,"Failed to verify OTP"),{error:s}}}async function d(e){try{const{data:s}=await r.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:2055/","auth/resetPasswordAdmin"),e);return s.error?o.oR.error(s.message,{autoClose:1500}):o.oR.success(s.message),{data:s}}catch(s){return t(s,"Failed to update password"),{error:s}}}}}]);
//# sourceMappingURL=989.314d7324.chunk.js.map